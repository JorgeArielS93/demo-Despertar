
<html>
  <head>
    <title>Administración</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="../SiteAssets/css/vendors/bootstrap.min.css"/>
    <link rel="stylesheet" href="../SiteAssets/css/vendors/line-awesome.min.css"/>
    <link rel="stylesheet" href="../SiteAssets/css/pages/layout.css"/>
    <link rel="icon" href="../SiteAssets/images/despertar.jpg"/>
    <script src="../SiteAssets/js/vendors/jquery.min.js"></script>
    <script src="../SiteAssets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="../SiteAssets/js/global.js"></script>
    <link rel="stylesheet" href="../SiteAssets/css/pages/patients.css"/>
    <link rel="stylesheet" href="../SiteAssets/css/centro-terapeutico.css"/>
    <script src="../SiteAssets/js/patients.js"></script>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg shadow-sm fixed-top"><a class="navbar-brand" href=""><img src="../SiteAssets/images/despertar.jpg" style="height: 40px; width: auto;"/><span>Despertar</span></a>
        <div class="navbar-collapse">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link"><i class="las la-question-circle"></i></a></li>
            <li class="nav-item dropdown dropleft"><a class="nav-link notification-dropdown" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="badge badge-pill badge-primary" style="float:right;margin-bottom:-10px;"></span><i class="las la-bell"></i></a>
              <div class="dropdown-menu notification-dropdown-menu shadow-lg" aria-labelledby="notification-dropdown">
                <div class="dropdown-title"><a href="notifications.html">notificaciones<span class="ml-2 notifications-count">(3)</span></a><a class="float-right" href="">marcar todo como leído</a></div>
                <div class="dropdown-body">
                  <ul class="list-unstyled">
                    <li class="media"><a class="notification-card" href=""><img class="mr-3" src="../SiteAssets/images/inbox.svg" alt="..."/>
                        <div class="media-body">
                          <h6 class="mt-0 mb-1">Herramientas de colaboración disponibles</h6>
                          <p>Nuevas herramientas para mejorar el trabajo en equipo.</p><small class="text-muted">21.03.2020, 13.02</small>
                        </div></a></li>
                    <li class="media"><a class="notification-card" href=""><img class="mr-3" src="../SiteAssets/images/inbox.svg" alt="..."/>
                        <div class="media-body">
                          <h6 class="mt-0 mb-1">Usa el nuevo lanzador de aplicaciones</h6>
                          <p>Accede a tus aplicaciones de forma más rápida y sencilla.</p><small class="text-muted">21.03.2020, 13.02</small>
                        </div></a></li>
                    <li class="media"><a class="notification-card" href=""><img class="mr-3" src="../SiteAssets/images/inbox.svg" alt="..."/>
                        <div class="media-body">
                          <h6 class="mt-0 mb-1">El nuevo dashboard está disponible</h6>
                          <p>Explora las nuevas métricas y visualizaciones.</p><small class="text-muted">21.03.2020, 13.02</small>
                        </div></a></li>
                  </ul>
                </div>
                <div class="dropdown-footer text-center"><a href="notifications.html">ver más</a></div>
              </div>
            </li>
            <li class="nav-item">
              <div class="nav-link"><span class="vertical-divider"></span></div>
            </li>
            <li class="nav-item"><a class="nav-link profile-dropdown" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img class="rounded-circle" src="../SiteAssets/images/person.jpg"/><span class="d">Ines Saravia</span></a>
              <div class="dropdown">
                <div class="dropdown-menu shadow-lg profile-dropdown-menu" aria-labelledby="profile-dropdown"><a class="dropdown-item" href="settings.html"><i class="las la-user mr-2"></i>perfil</a><a class="dropdown-item" href="settings.html"><i class="las la-cog mr-2"></i>ajustes</a></div>
              </div>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <main>
      <div class="side-nav">
        <ul class="list-group list-group-flush"><a class="list-group-item" href="dashboard.html" data-toggle="tooltip" data-placement="bottom" title="Dashboard"><i class="las la-shapes la-lw"></i><span>dashboard</span></a><a class="list-group-item" href="patients.html" data-toggle="tooltip" data-placement="bottom" title="Pacientes"><i class="las la-user-injured la-lw"></i><span>pacientes</span></a><a class="list-group-item" href="specialists.html" data-toggle="tooltip" data-placement="bottom" title="Especialistas"><i class="las la-clinic-medical la-lw"></i><span>especialistas</span></a><a class="list-group-item" href="procurement.html" data-toggle="tooltip" data-placement="bottom" title="Adquisiciones"><i class="las la-shopping-cart la-lw"></i><span>adquisiciones</span></a><a class="list-group-item" href="notifications.html" data-toggle="tooltip" data-placement="bottom" title="Notificaciones"><i class="las la-sms la-lw"></i><span>notificaciones</span></a><a class="list-group-item" href="settings.html" data-toggle="tooltip" data-placement="bottom" title="Ajustes"><i class="las la-cogs la-lw"></i><span>ajustes</span></a></ul>
      </div>
      <div class="main-content">
        <div class="container-fluid">
          <div class="section title-section">
            <h5 class="page-title"></h5>
          </div>
          <div class="section filters-section">
            <div class="dropdowns-wrapper">
              <div class="dropdown"><a class="btn btn-dark-red-o dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">filtro</a>
                <div class="dropdown-menu shadow-lg" aria-labelledby="dropdownMenuLink"><a class="dropdown-item" href="#">edad</a><a class="dropdown-item" href="#">diagnostico</a><a class="dropdown-item" href="#">nivel comunicación</a></div>
              </div>
              <div class="dropdown"><a class="btn btn-dark-red-o dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ordenar por</a>
                <div class="dropdown-menu shadow-lg" aria-labelledby="dropdownMenuLink"><a class="dropdown-item" href="#">ID Paciente</a><a class="dropdown-item" href="#">Nombre Paciente</a><a class="dropdown-item" href="#">Edad</a><a class="dropdown-item" href="#">Fecha de Nacimiento</a><a class="dropdown-item" href="#">Diagnostico</a></div>
              </div>
            </div>
            <div class="buttons-wrapper ml-auto">
              <a href="agregar_paciente.html" class="btn btn-dark-red-f-gr"><i class="las la-file-medical"></i>Nueva Evaluación Terapéutica</a>
              <button class="btn btn-outline-secondary btn-sm ml-2" onclick="restablecerDatosEjemplo()" title="Restablecer datos de ejemplo">
                <i class="las la-redo"></i> Restablecer Ejemplos
              </button>
            </div>
          </div>
          
          <!-- Tabla de Pacientes -->
          <div class="section patients-table-section">
            <div class="card">
              <div class="card-header">
                <h5 class="mb-0">Lista de Pacientes del Centro Terapéutico</h5>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr style="background-color: #f8f9fa;">
                        <th>ID</th>
                        <th>Paciente</th>
                        <th>Edad</th>
                        <th>Diagnóstico</th>
                        <th>Nivel Comunicación</th>
                        <th>Fecha Evaluación</th>
                        <th style="width: 140px;">Acciones</th>
                      </tr>
                    </thead>
                    <tbody id="pacientes-table-body">
                      <!-- Los pacientes se cargarán dinámicamente aquí -->
                    </tbody>
                  </table>
                  <div id="empty-state" class="text-center py-5" style="display: none;">
                    <i class="las la-file-medical" style="font-size: 4rem; color: #a8001f; opacity: 0.3;"></i>
                    <h5 class="mt-3">No hay pacientes registrados</h5>
                    <p class="text-muted">Haga clic en "Nueva Evaluación Terapéutica" para realizar la primera evaluación</p>
                    <a href="agregar_paciente.html" class="btn btn-dark-red-f">
                      <i class="las la-file-medical"></i> Nueva Evaluación
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal de confirmación de eliminación -->
    <div class="modal fade" id="deleteConfirmModal" tabindex="-1" role="dialog" aria-labelledby="deleteConfirmModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header" style="border-bottom: 2px solid #a8001f;">
            <h5 class="modal-title" id="deleteConfirmModalLabel" style="color: #333333;">
              <i class="las la-exclamation-triangle" style="color: #dc3545;"></i> Confirmar Eliminación
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" style="background-color: #f9f9f9;">
            <div class="text-center mb-3">
              <i class="las la-user-injured" style="font-size: 3rem; color: #a8001f; opacity: 0.7;"></i>
            </div>
            <p style="color: #333333;">¿Está seguro que desea eliminar la ficha de evaluación del paciente <strong id="paciente-nombre" style="color: #a8001f;"></strong>?</p>
            <div class="alert alert-warning" style="border-left: 4px solid #ffc107;">
              <i class="las la-info-circle"></i> <strong>Advertencia:</strong> Esta acción eliminará permanentemente todos los datos de evaluación terapéutica y no se puede deshacer.
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
              <i class="las la-times"></i> Cancelar
            </button>
            <button type="button" class="btn btn-danger" id="confirm-delete-btn">
              <i class="las la-trash"></i> Eliminar Paciente
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Modal de confirmación de eliminación -->
    <div class="modal fade" id="editPacienteModal" tabindex="-1" role="dialog" aria-labelledby="editPacienteModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header" style="border-bottom: 2px solid #a8001f;">
            <h5 class="modal-title" id="editPacienteModalLabel" style="color: #333333;">
              <i class="las la-edit" style="color: #a8001f;"></i> Editar Información del Paciente
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" style="background-color: #f9f9f9;">
            <form id="editPacienteForm">
              <input type="hidden" id="edit-paciente-id">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="edit-nombres" style="color: #333333; font-weight: 600;">Nombres</label>
                    <input type="text" class="form-control" id="edit-nombres" required style="border: 1px solid #ddd;">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="edit-apellidos" style="color: #333333; font-weight: 600;">Apellidos</label>
                    <input type="text" class="form-control" id="edit-apellidos" required style="border: 1px solid #ddd;">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="edit-documento" style="color: #333333; font-weight: 600;">Documento</label>
                    <input type="text" class="form-control" id="edit-documento" style="border: 1px solid #ddd;">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="edit-edad" style="color: #333333; font-weight: 600;">Edad</label>
                    <input type="number" class="form-control" id="edit-edad" style="border: 1px solid #ddd;">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="edit-sexo" style="color: #333333; font-weight: 600;">Sexo</label>
                    <select class="form-control" id="edit-sexo" style="border: 1px solid #ddd;">
                      <option value="">Seleccionar</option>
                      <option value="M">Masculino</option>
                      <option value="F">Femenino</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="edit-telefono" style="color: #333333; font-weight: 600;">Teléfono</label>
                    <input type="tel" class="form-control" id="edit-telefono" style="border: 1px solid #ddd;">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="edit-diagnostico" style="color: #333333; font-weight: 600;">Diagnóstico Principal</label>
                    <select class="form-control" id="edit-diagnostico" style="border: 1px solid #ddd;">
                      <option value="">Seleccionar</option>
                      <option value="Trastorno del Espectro Autista (TEA)">Trastorno del Espectro Autista (TEA)</option>
                      <option value="Síndrome de Down">Síndrome de Down</option>
                      <option value="Discapacidad Intelectual">Discapacidad Intelectual</option>
                      <option value="Trastorno del Desarrollo">Trastorno del Desarrollo</option>
                      <option value="Síndrome de Asperger">Síndrome de Asperger</option>
                      <option value="TDAH">TDAH</option>
                      <option value="Parálisis Cerebral">Parálisis Cerebral</option>
                      <option value="Otro">Otro</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="edit-comunicacion" style="color: #333333; font-weight: 600;">Nivel de Comunicación</label>
                    <select class="form-control" id="edit-comunicacion" style="border: 1px solid #ddd;">
                      <option value="">Seleccionar</option>
                      <option value="No verbal">No verbal</option>
                      <option value="Palabras aisladas">Palabras aisladas</option>
                      <option value="Frases simples">Frases simples</option>
                      <option value="Conversación básica">Conversación básica</option>
                      <option value="Comunicación fluida">Comunicación fluida</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="edit-motivo" style="color: #333333; font-weight: 600;">Motivo de Consulta</label>
                    <textarea class="form-control" id="edit-motivo" rows="2" style="border: 1px solid #ddd;"></textarea>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
              <i class="las la-times"></i> Cancelar
            </button>
            <button type="button" class="btn btn-dark-red-f" id="save-edit-btn">
              <i class="las la-save"></i> Guardar Cambios
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="../SiteAssets/js/pacientes-manager.js"></script>
  </body>
</html>